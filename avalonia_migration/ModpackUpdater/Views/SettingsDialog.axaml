<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:ModpackUpdater.ViewModels"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d" d:DesignWidth="500" d:DesignHeight="300"
        x:Class="ModpackUpdater.Views.SettingsDialog"
        x:DataType="vm:SettingsViewModel"
        Title="CONFIGURAÇÕES"
        Width="500" Height="300"
        WindowStartupLocation="CenterOwner"
        CanResize="False"
        Background="{StaticResource BackgroundBrush}">

    <Design.DataContext>
        <vm:SettingsViewModel CurrentVersion="1.0.0"/>
    </Design.DataContext>

    <Border Classes="GlassCard" Margin="20" Padding="30">
        <StackPanel Spacing="20">
            
            <!-- Header -->
            <StackPanel Orientation="Horizontal" Spacing="10" HorizontalAlignment="Center">
                <PathIcon Data="M12,8A4,4 0 0,1 16,12A4,4 0 0,1 12,16A4,4 0 0,1 8,12A4,4 0 0,1 12,8M12,10A2,2 0 0,0 10,12A2,2 0 0,0 12,14A2,2 0 0,0 14,12A2,2 0 0,0 12,10M10,22C9.75,22 9.54,21.82 9.5,21.58L9.13,18.93C8.5,18.68 7.96,18.34 7.44,17.94L4.95,18.95C4.73,19.03 4.46,18.95 4.34,18.73L2.34,15.27C2.21,15.05 2.27,14.78 2.46,14.63L4.56,12.97L4.5,12L4.56,11.03L2.46,9.37C2.27,9.22 2.21,8.95 2.34,8.73L4.34,5.27C4.46,5.05 4.73,4.96 4.95,5.05L7.44,6.05C7.96,5.66 8.5,5.32 9.13,5.07L9.5,2.42C9.54,2.18 9.75,2 10,2H14C14.25,2 14.46,2.18 14.5,2.42L14.87,5.07C15.5,5.32 16.04,5.66 16.56,6.05L19.05,5.05C19.27,4.96 19.54,5.05 19.66,5.27L21.66,8.73C21.79,8.95 21.73,9.22 21.54,9.37L19.44,11.03L19.5,12L19.44,12.97L21.54,14.63C21.73,14.78 21.79,15.05 21.66,15.27L19.66,18.73C19.54,18.95 19.27,19.03 19.05,18.95L16.56,17.94C16.04,18.34 15.5,18.68 14.87,18.93L14.5,21.58C14.46,21.82 14.25,22 14,22H10Z" 
                          Foreground="{StaticResource PrimaryBrush}" 
                          Width="24" Height="24"/>
                <TextBlock Text="CONFIGURAÇÕES" 
                           FontSize="20" 
                           FontWeight="Bold" 
                           Foreground="{StaticResource PrimaryBrush}"/>
            </StackPanel>

            <!-- Game Directory -->
            <StackPanel Spacing="8">
                <TextBlock Text="Diretório do Jogo" 
                           Foreground="{StaticResource ForegroundBrush}" 
                           FontSize="14"/>
                <Grid ColumnDefinitions="*, Auto">
                    <TextBox Grid.Column="0" 
                             Text="{Binding GamePath}" 
                             IsReadOnly="True"
                             Background="{StaticResource MutedBrush}"
                             Foreground="{StaticResource ForegroundBrush}"
                             BorderBrush="{StaticResource BorderBrush}"
                             Padding="10"
                             CornerRadius="8"/>
                    <Button Grid.Column="1" 
                            Margin="10,0,0,0"
                            Command="{Binding BrowseDirectoryCommand}"
                            CommandParameter="{Binding $parent[Window].StorageProvider}"
                            Background="{StaticResource MutedBrush}"
                            Padding="10"
                            CornerRadius="8">
                        <PathIcon Data="M10,4L12,6H20A2,2 0 0,1 22,8V18A2,2 0 0,1 20,20H4C2.89,20 2,19.1 2,18V6C2,4.89 2.89,4 4,4H10M15,9V12H12V14H15V17H17V14H20V12H17V9H15Z" 
                                  Foreground="{StaticResource MutedForegroundBrush}"
                                  Width="20" Height="20"/>
                    </Button>
                </Grid>
            </StackPanel>

            <!-- Current Version -->
            <StackPanel Spacing="8">
                <TextBlock Text="Versão do Modpack" 
                           Foreground="{StaticResource ForegroundBrush}" 
                           FontSize="14"/>
                <TextBox Text="{Binding CurrentVersion}" 
                         IsReadOnly="True"
                         Background="{StaticResource MutedBrush}"
                         Foreground="{StaticResource MutedForegroundBrush}"
                         BorderBrush="{StaticResource BorderBrush}"
                         Padding="10"
                         CornerRadius="8"/>
            </StackPanel>

            <!-- Close Button -->
            <Button Classes="Action" 
                    HorizontalAlignment="Stretch" 
                    Click="CloseButton_Click"
                    Margin="0,10,0,0">
                <TextBlock Text="FECHAR" 
                           FontWeight="Bold" 
                           LetterSpacing="1"/>
            </Button>
        </StackPanel>
    </Border>
</Window>
